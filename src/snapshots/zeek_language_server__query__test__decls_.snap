---
source: src/query.rs
expression: root_decls
snapshot_kind: text
---
[
    Decl {
        module: String(
            "bar",
        ),
        id: "Y",
        fqid: "Y",
        kind: RedefRecord(
            [
                Decl {
                    module: None,
                    id: "y2",
                    fqid: "bar::Y::y2",
                    kind: Field,
                    is_export: None,
                    loc: Some(
                        Location {
                            range: Range {
                                start: Position {
                                    line: 24,
                                    character: 18,
                                },
                                end: Position {
                                    line: 24,
                                    character: 20,
                                },
                            },
                            selection_range: Range {
                                start: Position {
                                    line: 24,
                                    character: 18,
                                },
                                end: Position {
                                    line: 24,
                                    character: 20,
                                },
                            },
                            uri: Url {
                                scheme: "file",
                                cannot_be_a_base: false,
                                username: "",
                                password: None,
                                host: None,
                                port: None,
                                path: "/foo/bar.zeek",
                                query: None,
                                fragment: None,
                            },
                        },
                    ),
                    documentation: "A new field.\n* * *\n```zeek\n# In bar::Y\ny2: count &optional;\n```",
                },
            ],
        ),
        is_export: Some(
            false,
        ),
        loc: Some(
            Location {
                range: Range {
                    start: Position {
                        line: 22,
                        character: 14,
                    },
                    end: Position {
                        line: 25,
                        character: 16,
                    },
                },
                selection_range: Range {
                    start: Position {
                        line: 22,
                        character: 27,
                    },
                    end: Position {
                        line: 22,
                        character: 28,
                    },
                },
                uri: Url {
                    scheme: "file",
                    cannot_be_a_base: false,
                    username: "",
                    password: None,
                    host: None,
                    port: None,
                    path: "/foo/bar.zeek",
                    query: None,
                    fragment: None,
                },
            },
        ),
        documentation: "```zeek\nredef record Y += {\n                  ## A new field.\n                  y2: count &optional;\n              };\n```",
    },
    Decl {
        module: String(
            "bar",
        ),
        id: "fun",
        fqid: "bar::fun",
        kind: FuncDecl(
            Signature {
                result: Some(
                    String,
                ),
                args: [
                    Decl {
                        module: None,
                        id: "x",
                        fqid: "x",
                        kind: Variable,
                        is_export: None,
                        loc: Some(
                            Location {
                                range: Range {
                                    start: Position {
                                        line: 19,
                                        character: 35,
                                    },
                                    end: Position {
                                        line: 19,
                                        character: 36,
                                    },
                                },
                                selection_range: Range {
                                    start: Position {
                                        line: 19,
                                        character: 35,
                                    },
                                    end: Position {
                                        line: 19,
                                        character: 43,
                                    },
                                },
                                uri: Url {
                                    scheme: "file",
                                    cannot_be_a_base: false,
                                    username: "",
                                    password: None,
                                    host: None,
                                    port: None,
                                    path: "/foo/bar.zeek",
                                    query: None,
                                    fragment: None,
                                },
                            },
                        ),
                        documentation: "```zeek\nx: count\n```",
                    },
                ],
            },
        ),
        is_export: Some(
            false,
        ),
        loc: Some(
            Location {
                range: Range {
                    start: Position {
                        line: 19,
                        character: 14,
                    },
                    end: Position {
                        line: 19,
                        character: 53,
                    },
                },
                selection_range: Range {
                    start: Position {
                        line: 19,
                        character: 21,
                    },
                    end: Position {
                        line: 19,
                        character: 24,
                    },
                },
                uri: Url {
                    scheme: "file",
                    cannot_be_a_base: false,
                    username: "",
                    password: None,
                    host: None,
                    port: None,
                    path: "/foo/bar.zeek",
                    query: None,
                    fragment: None,
                },
            },
        ),
        documentation: "```zeek\nglobal fun: function(x: count): string;\n```",
    },
    Decl {
        module: String(
            "bar",
        ),
        id: "fun",
        fqid: "bar::fun",
        kind: FuncDef(
            Signature {
                result: Some(
                    String,
                ),
                args: [
                    Decl {
                        module: None,
                        id: "x",
                        fqid: "x",
                        kind: Variable,
                        is_export: None,
                        loc: Some(
                            Location {
                                range: Range {
                                    start: Position {
                                        line: 20,
                                        character: 27,
                                    },
                                    end: Position {
                                        line: 20,
                                        character: 28,
                                    },
                                },
                                selection_range: Range {
                                    start: Position {
                                        line: 20,
                                        character: 27,
                                    },
                                    end: Position {
                                        line: 20,
                                        character: 35,
                                    },
                                },
                                uri: Url {
                                    scheme: "file",
                                    cannot_be_a_base: false,
                                    username: "",
                                    password: None,
                                    host: None,
                                    port: None,
                                    path: "/foo/bar.zeek",
                                    query: None,
                                    fragment: None,
                                },
                            },
                        ),
                        documentation: "```zeek\nx: count\n```",
                    },
                ],
            },
        ),
        is_export: Some(
            false,
        ),
        loc: Some(
            Location {
                range: Range {
                    start: Position {
                        line: 20,
                        character: 14,
                    },
                    end: Position {
                        line: 20,
                        character: 59,
                    },
                },
                selection_range: Range {
                    start: Position {
                        line: 20,
                        character: 23,
                    },
                    end: Position {
                        line: 20,
                        character: 26,
                    },
                },
                uri: Url {
                    scheme: "file",
                    cannot_be_a_base: false,
                    username: "",
                    password: None,
                    host: None,
                    port: None,
                    path: "/foo/bar.zeek",
                    query: None,
                    fragment: None,
                },
            },
        ),
        documentation: "```zeek\nfunction fun(x: count): string { return \"\"; }\n```",
    },
    Decl {
        module: String(
            "bar",
        ),
        id: "zeek_init",
        fqid: "bar::zeek_init",
        kind: EventDef(
            Signature {
                result: None,
                args: [],
            },
        ),
        is_export: Some(
            false,
        ),
        loc: Some(
            Location {
                range: Range {
                    start: Position {
                        line: 15,
                        character: 14,
                    },
                    end: Position {
                        line: 17,
                        character: 15,
                    },
                },
                selection_range: Range {
                    start: Position {
                        line: 15,
                        character: 20,
                    },
                    end: Position {
                        line: 15,
                        character: 29,
                    },
                },
                uri: Url {
                    scheme: "file",
                    cannot_be_a_base: false,
                    username: "",
                    password: None,
                    host: None,
                    port: None,
                    path: "/foo/bar.zeek",
                    query: None,
                    fragment: None,
                },
            },
        ),
        documentation: "```zeek\nevent zeek_init() { local x=1;\n                  # Comment.\n              }\n```",
    },
    Decl {
        module: String(
            "test",
        ),
        id: "Y",
        fqid: "test::Y",
        kind: Type(
            [
                Decl {
                    module: None,
                    id: "y",
                    fqid: "test::Y::y",
                    kind: Field,
                    is_export: None,
                    loc: Some(
                        Location {
                            range: Range {
                                start: Position {
                                    line: 11,
                                    character: 18,
                                },
                                end: Position {
                                    line: 11,
                                    character: 19,
                                },
                            },
                            selection_range: Range {
                                start: Position {
                                    line: 11,
                                    character: 18,
                                },
                                end: Position {
                                    line: 11,
                                    character: 19,
                                },
                            },
                            uri: Url {
                                scheme: "file",
                                cannot_be_a_base: false,
                                username: "",
                                password: None,
                                host: None,
                                port: None,
                                path: "/foo/bar.zeek",
                                query: None,
                                fragment: None,
                            },
                        },
                    ),
                    documentation: "A field.\n* * *\n```zeek\n# In test::Y\ny: vector of count &optional;\n```",
                },
            ],
        ),
        is_export: Some(
            false,
        ),
        loc: Some(
            Location {
                range: Range {
                    start: Position {
                        line: 9,
                        character: 14,
                    },
                    end: Position {
                        line: 12,
                        character: 16,
                    },
                },
                selection_range: Range {
                    start: Position {
                        line: 9,
                        character: 19,
                    },
                    end: Position {
                        line: 9,
                        character: 20,
                    },
                },
                uri: Url {
                    scheme: "file",
                    cannot_be_a_base: false,
                    username: "",
                    password: None,
                    host: None,
                    port: None,
                    path: "/foo/bar.zeek",
                    query: None,
                    fragment: None,
                },
            },
        ),
        documentation: "Y does the y.\nIt takes no arguments.\nBut it also has a field y\n* * *\n```zeek\ntype Y: record {\n                  ## A field.\n                  y: vector of count &optional;\n              };\n```",
    },
    Decl {
        module: String(
            "test",
        ),
        id: "x",
        fqid: "test::x",
        kind: Const,
        is_export: Some(
            true,
        ),
        loc: Some(
            Location {
                range: Range {
                    start: Position {
                        line: 3,
                        character: 18,
                    },
                    end: Position {
                        line: 3,
                        character: 37,
                    },
                },
                selection_range: Range {
                    start: Position {
                        line: 3,
                        character: 24,
                    },
                    end: Position {
                        line: 3,
                        character: 25,
                    },
                },
                uri: Url {
                    scheme: "file",
                    cannot_be_a_base: false,
                    username: "",
                    password: None,
                    host: None,
                    port: None,
                    path: "/foo/bar.zeek",
                    query: None,
                    fragment: None,
                },
            },
        ),
        documentation: "```zeek\nconst x = 1 &redef;\n```",
    },
    Decl {
        module: String(
            "test",
        ),
        id: "y",
        fqid: "test::y",
        kind: Global,
        is_export: Some(
            true,
        ),
        loc: Some(
            Location {
                range: Range {
                    start: Position {
                        line: 4,
                        character: 18,
                    },
                    end: Position {
                        line: 4,
                        character: 31,
                    },
                },
                selection_range: Range {
                    start: Position {
                        line: 4,
                        character: 25,
                    },
                    end: Position {
                        line: 4,
                        character: 26,
                    },
                },
                uri: Url {
                    scheme: "file",
                    cannot_be_a_base: false,
                    username: "",
                    password: None,
                    host: None,
                    port: None,
                    path: "/foo/bar.zeek",
                    query: None,
                    fragment: None,
                },
            },
        ),
        documentation: "```zeek\nglobal y = 1;\n```",
    },
]
